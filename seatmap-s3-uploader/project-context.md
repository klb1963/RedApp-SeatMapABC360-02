
# üìÅ project-context.md ‚Äî SeatMap-S3-Uploader

üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ XML-–æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç Sabre (–Ω–∞–ø—Ä–∏–º–µ—Ä, EnhancedSeatMapRS) –≤ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ iDrive¬Æ e2.
–û–Ω –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ Sabre RedApp –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è SOAP-–æ—Ç–≤–µ—Ç–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç XML –≤ —É–¥–∞–ª—ë–Ω–Ω—ã–π –±–∞–∫–µ—Ç –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏.

‚∏ª
üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

SeatMap-S3-Uploader/
‚îú‚îÄ‚îÄ .env                         # –ö–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ S3
‚îú‚îÄ‚îÄ index.ts                    # –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ —Å sample XML
‚îú‚îÄ‚îÄ uploadToS3.ts               # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ S3
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ project-context.md          # (–≤–æ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª)

‚∏ª
‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

S3_ACCESS_KEY_ID=5VZFMgxWURL8tu3SuO5Y
S3_SECRET_ACCESS_KEY=ZzI9yuW95jQmOqTbhw9BQtaRq7jeEoBmEk2wzYOq


‚∏ª
üåç –ü–∞—Ä–∞–º–µ—Ç—Ä—ã S3 (iDrive¬Æ e2)
	‚Ä¢	–ë–∞–∫–µ—Ç: seatmapabc360-enhancedseatmaprq-logs
	‚Ä¢	–≠–Ω–¥–ø–æ–π–Ω—Ç: https://p1t1.fra.idrivee2-28.com
	‚Ä¢	–†–µ–≥–∏–æ–Ω: default (–¥–ª—è iDrive¬Æ e2 —Ç–∞–∫ –∏ –æ—Å—Ç–∞–≤–ª—è–µ–º)

‚∏ª
‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å
	1.	–£–±–µ–¥–∏—Å—å, —á—Ç–æ .env —Ñ–∞–π–ª —Å –∫–ª—é—á–∞–º–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
	2.	–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

npm install

	3.	–ó–∞–ø—É—Å—Ç–∏:

npx tsx index.mts


‚∏ª
üß† –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑ RedApp

–í–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ loadSeatMapFromSabre.ts, –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è EnhancedSeatMapRS, –ø—Ä–æ—Å—Ç–æ –≤—ã–∑–æ–≤–∏:

await uploadXmlToS3(xmlString);

‚∏ª
üìù TODO
	‚Ä¢	–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
	‚Ä¢	–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –±–æ–ª—å—à–∏—Ö XML (> 1 –ú–ë)
	‚Ä¢	–ù–∞—Å—Ç—Ä–æ–∏—Ç—å retries –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö S3
